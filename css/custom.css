/* Custom styles for Malmö JS presentation */

/* Override reveal.js theme spacing variables */
:root {
  --r-block-margin: 8px;
  --r-heading-margin: 0 0 10px 0;
}

.reveal {
  font-family: 'Source Sans Pro', Helvetica, sans-serif;
}

.reveal h1, .reveal h2, .reveal h3 {
  text-transform: none;
}

/* Tighten spacing and use full width */
.reveal .slides section {
  padding: 6px 0;
  width: 100%;
}

.reveal .slides > section > section {
  width: 100%;
}

.reveal h3 {
  margin: 0 0 10px 0;
}

.reveal pre {
  margin: 6px 0;
}

.reveal ul, .reveal ol {
  margin: 0 0 6px;
}

.reveal p {
  margin: 0 0 8px;
}

.reveal .insight,
.reveal .warning {
  margin: 6px 0;
}

.reveal table.benchmark {
  margin: 8px auto;
}

.reveal .title-slide h1 {
  font-size: 2.5em;
  color: #e7ad52;
}

.reveal .title-slide h2 {
  font-size: 1.2em;
  color: #999;
  margin-bottom: 30px;
}

/* Speaker card */
.reveal .speaker-card {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
}

.reveal .speaker-photo {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 3px solid #e7ad52;
  object-fit: cover;
}

.reveal .speaker-info {
  text-align: left;
}

.reveal .speaker-name {
  font-size: 1.1em;
  font-weight: bold;
  color: #fff;
}

.reveal .speaker-roles {
  font-size: 0.65em;
  color: #bbb;
  margin-top: 4px;
}

.reveal .speaker-links {
  margin-top: 6px;
  font-size: 0.6em;
}

.reveal .speaker-links a {
  color: #42affa;
  text-decoration: none;
}

.reveal .speaker-links a:hover {
  text-decoration: underline;
}

/* Code styling */
.reveal pre {
  width: 100%;
  font-size: 0.48em;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  border-radius: 6px;
}

.reveal pre code {
  padding: 14px 20px;
  max-height: 680px;
  line-height: 1.4;
}

/* Benchmark table styling */
.reveal table.benchmark {
  font-size: 0.6em;
  border-collapse: collapse;
}

.reveal table.benchmark th {
  background: #e7ad52;
  color: #222;
  padding: 6px 14px;
  font-weight: bold;
}

.reveal table.benchmark td {
  padding: 5px 14px;
  border-bottom: 1px solid #444;
}

.reveal table.benchmark .speedup {
  color: #4ec9b0;
  font-weight: bold;
}

/* Section headers */
.reveal .section-header h2 {
  font-size: 2em;
  color: #e7ad52;
  border-bottom: 3px solid #e7ad52;
  padding-bottom: 15px;
}

/* Key insight boxes */
.reveal .insight {
  background: rgba(231, 173, 82, 0.1);
  border-left: 4px solid #e7ad52;
  padding: 10px 16px;
  margin: 10px 0;
  text-align: center;
  font-size: 0.75em;
  border-radius: 0 6px 6px 0;
}

.reveal .warning {
  background: rgba(255, 82, 82, 0.1);
  border-left: 4px solid #ff5252;
  padding: 10px 16px;
  margin: 10px 0;
  text-align: center;
  font-size: 0.75em;
  border-radius: 0 6px 6px 0;
}

/* Side-by-side comparison */
.reveal .columns {
  display: flex;
  gap: 20px;
}

.reveal .columns .col {
  flex: 1;
}

.reveal .columns .col h4 {
  margin-top: 0;
  color: #e7ad52;
  font-size: 0.9em;
}

/* npm package badge */
.reveal .npm-badge {
  display: inline-block;
  background: #cb3837;
  color: white;
  padding: 2px 10px;
  border-radius: 4px;
  font-size: 0.6em;
  vertical-align: middle;
  margin-left: 10px;
}

/* Fragments with nice transitions */
.reveal .fragment.highlight-current-green.current-fragment {
  color: #4ec9b0;
}

/* Small text helper */
.reveal .small {
  font-size: 0.6em;
  color: #999;
}

/* Diagram text (legacy) */
.reveal .diagram {
  font-family: monospace;
  font-size: 0.55em;
  line-height: 1.3;
  text-align: left;
  background: #1e1e1e;
  padding: 20px;
  border-radius: 6px;
}

/* ── Styled diagram boxes ── */
.reveal .diagram-box {
  background: #1e1e1e;
  border: 2px solid #555;
  border-radius: 8px;
  padding: 14px 18px;
  text-align: left;
  font-size: 0.65em;
}

.reveal .diagram-box .diagram-title {
  text-align: center;
  color: #ccc;
  font-size: 1.1em;
  margin-bottom: 10px;
  font-weight: bold;
}

.reveal .diagram-box .diagram-row {
  display: flex;
  gap: 20px;
  justify-content: center;
}

.reveal .diagram-box .diagram-cell {
  flex: 1;
  border: 2px solid #666;
  border-radius: 6px;
  padding: 10px 14px;
  min-width: 0;
}

.reveal .diagram-box .diagram-cell h4 {
  margin: 0 0 4px;
  font-size: 1em;
  color: #e7ad52;
}

.reveal .diagram-box .diagram-cell .subtitle {
  color: #888;
  font-size: 0.85em;
  margin-bottom: 10px;
}

.reveal .diagram-box .diagram-cell ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.reveal .diagram-box .diagram-cell ul li {
  padding: 2px 0;
  color: #bbb;
  font-size: 0.9em;
}

.reveal .diagram-box .diagram-cell.good {
  border-color: #4ec9b0;
}

.reveal .diagram-box .diagram-cell.good h4 {
  color: #4ec9b0;
}

.reveal .diagram-box .diagram-cell.bad {
  border-color: #ff5252;
}

.reveal .diagram-box .diagram-cell.bad h4 {
  color: #ff5252;
}

/* Event loop blocking diagram */
.reveal .diagram-box .block-bar {
  background: #e7ad52;
  color: #222;
  font-weight: bold;
  padding: 10px 16px;
  border-radius: 4px;
  text-align: center;
  margin-bottom: 12px;
}

.reveal .diagram-box .blocked-list {
  color: #ff5252;
  padding-left: 20px;
  margin: 0;
}

.reveal .diagram-box .blocked-list li {
  padding: 2px 0;
  font-size: 0.9em;
}

.reveal .diagram-box .blocked-label {
  color: #ff5252;
  font-weight: bold;
  font-size: 0.9em;
  margin: 8px 0 4px;
}

/* Concurrency vs parallelism timeline */
.reveal .diagram-box .timeline {
  display: flex;
  align-items: center;
  gap: 2px;
  margin: 4px 0;
  font-size: 0.85em;
}

.reveal .diagram-box .timeline .label {
  width: 80px;
  color: #999;
  flex-shrink: 0;
  text-align: right;
  padding-right: 8px;
}

.reveal .diagram-box .timeline .bar {
  height: 16px;
  border-radius: 2px;
}

.reveal .diagram-box .timeline .bar.work {
  background: #e7ad52;
}

.reveal .diagram-box .timeline .bar.idle {
  background: #444;
}

/* Cache diagram */
.reveal .diagram-box .cache-core {
  text-align: center;
  border: 2px solid #666;
  border-radius: 6px;
  padding: 8px 12px;
  min-width: 80px;
}

.reveal .diagram-box .cache-core .core-label {
  font-weight: bold;
  color: #e7ad52;
  margin-bottom: 4px;
}

.reveal .diagram-box .cache-line {
  font-size: 0.85em;
  color: #bbb;
  padding: 1px 0;
}

.reveal .diagram-box .cache-note {
  font-size: 0.85em;
  color: #999;
  padding-left: 8px;
}

.reveal .diagram-box .shared-bus {
  border-top: 2px solid #e7ad52;
  margin-top: 8px;
  padding-top: 6px;
  text-align: center;
  color: #e7ad52;
  font-size: 0.85em;
}

.reveal .diagram-box .separator {
  border-top: 1px solid #555;
  margin: 10px 0;
}

/* Ring buffer diagram */
.reveal .diagram-box .ring-segment {
  border: 2px solid #666;
  border-radius: 6px;
  padding: 10px 14px;
  margin-bottom: 12px;
}

.reveal .diagram-box .ring-segment .ring-title {
  color: #e7ad52;
  font-weight: bold;
  margin-bottom: 8px;
  font-size: 0.95em;
}

.reveal .diagram-box .ring-cells {
  display: flex;
  gap: 0;
  margin: 8px 0;
}

.reveal .diagram-box .ring-cells .cell {
  border: 1px solid #666;
  padding: 6px 8px;
  text-align: center;
  font-size: 0.8em;
  color: #bbb;
}

.reveal .diagram-box .ring-cells .cell.len {
  background: rgba(78, 201, 176, 0.15);
  border-color: #4ec9b0;
  color: #4ec9b0;
}

.reveal .diagram-box .ring-cells .cell.data {
  background: rgba(231, 173, 82, 0.1);
  flex: 1;
}

.reveal .diagram-box .ring-pointers {
  display: flex;
  justify-content: space-between;
  font-size: 0.8em;
  color: #999;
  margin-top: 4px;
  padding: 0 4px;
}

.reveal .diagram-box .ring-note {
  font-size: 0.85em;
  color: #999;
  margin-top: 8px;
  line-height: 1.4;
}

/* List with better spacing */
.reveal ul.spaced li,
.reveal ol.spaced li {
  margin-bottom: 8px;
}

.reveal .vs {
  color: #e7ad52;
  font-weight: bold;
  font-size: 1.2em;
}

/* Swap-remove diagram cells */
.reveal .swap-cell {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border: 2px solid #666;
  border-radius: 4px;
  font-weight: bold;
  color: #ccc;
  background: #2a2a2a;
}

.reveal .swap-cell.swap-target {
  border-color: #ff5252;
  color: #ff5252;
  background: rgba(255, 82, 82, 0.15);
}

.reveal .swap-cell.swap-empty {
  border-style: dashed;
  color: #666;
}

.reveal .swap-cell.swap-moved {
  border-color: #4ec9b0;
  color: #4ec9b0;
  background: rgba(78, 201, 176, 0.15);
}
