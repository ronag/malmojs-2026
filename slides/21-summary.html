<!-- SUMMARY & TAKEAWAYS -->
<section>
  <section class="section-header">
    <h2>Key Takeaways</h2>
  </section>

  <section>
    <h3>Key Takeaways</h3>
    <ol class="spaced" style="font-size: 0.78em;">
      <li><strong>Measure first.</strong> Optimize only hot paths at high scale; dev time costs more than servers.</li>
      <li><strong>Allocations are GC promises.</strong> Every object you create is work deferred to later. Reduce, reuse, bound your pools.</li>
      <li><strong>Sync beats async by up to 190×.</strong> Use sync fast paths when the result is already available; go async only when you must.</li>
      <li><strong>Don't block the event loop.</strong> <code>await</code> yields to microtasks, not I/O. Use <code>setImmediate</code> or <code>maybeYield</code> for long CPU work.</li>
      <li><strong>Workers + reusePort, not cluster.</strong> Kernel load balancing, no primary bottleneck, shared memory via SharedArrayBuffer.</li>
      <li><strong>A few flags go a long way.</strong> <code>--max-semi-space-size</code>, <code>Buffer.poolSize</code>, <code>highWaterMark</code>, often free wins with one line.</li>
    </ol>
  </section>

  <section>
    <h3>Libraries Used</h3>
    <table class="benchmark" style="font-size: 0.7em;">
      <thead>
        <tr><th>Package</th><th>Purpose</th></tr>
      </thead>
      <tbody>
        <tr><td>@nxtedition/timers</td><td>Pooled timer management</td></tr>
        <tr><td>@nxtedition/yield</td><td>Cooperative event loop yielding</td></tr>
        <tr><td>@nxtedition/scheduler</td><td>Priority-based task scheduling</td></tr>
        <tr><td>@nxtedition/slice</td><td>Zero-alloc buffer management</td></tr>
        <tr><td>@nxtedition/shared</td><td>Lock-free cross-thread ring buffer</td></tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Thank You!</h2>
    <p>Malmö JS 2026</p>
    <p class="small">Slides & code: <a href="https://github.com/ronag/malmojs-2026">github.com/ronag/malmojs-2026</a></p>
  </section>
</section>
